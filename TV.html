<!DOCTYPE html>
<html lang="en">
<head>
    <title>TV'S</title>
    <link rel="stylesheet" type="text/css" href="CSS/mystyle-main.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .product-flex {
            display: flex;
            flex-wrap: wrap; /* Allow items to wrap onto multiple lines */
            justify-content: space-between; /* Distribute space between items */
            padding: 10px; /* Optional: adds padding around the container */
        }
        .product-card {
          /* Adjust width and maintain spacing */
            margin: 10px; /* Adds margin around each product card */
            border: 1px solid #ccc; /* Optional: adds a border to each product */
            border-radius: 5px; /* Optional: rounds the corners */
            padding: 10px; /* Optional: adds padding inside the product card */
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1); /* Optional: adds a shadow for better visibility */
            box-sizing: border-box; /* Ensures padding and border are included in width */
        }
        .product-image {
            max-width: 100%; /* Ensures images don't exceed card width */
            height: auto; /* Maintains aspect ratio */
        }
    </style>
    
</head>
<body>
    <header>
        <table class="header" border="0">
            <tr>
                <td class="logo"><a href="index.html"><img src="images/logov2.png"  alt="e-store"></a></td>
                <td>
                    <div class="search">
                        <input type="text" placeholder='search...'>
                        <button type="submit"><img src="images/search-solid.svg" alt="search"></button>
                    </div>
                </td>
               <td>
                <div style="padding-left: 30px; text-align: center; position: relative;">
                    <a href="cart.html">
                        <img src="images/shopping-cart-3.png" alt="CART" style="width: 30px; height: 30px;"><br>
                        Cart <div id="cart-count" class="cart-count" style="display: none;"><script>totalProductsInCart</script></div>
                    </a>
                </div>
                </td>
                <td>
                    <div style="padding-left: 30px; text-align: center; position: relative;">
                        <a href="wishlist.html">
                            <img src="images/like-2.png" alt="wishList" style="width: 30px; height: 30px;"><br>
                            WishList <div id="wishList-count" class="wishList-count" style="display: none;"><script>totalProductsInWishList</script></div>
                        </a>
                    </div>
                </td>
                <td>
                    <div style="display: flex; align-items: center; justify-content: flex-end; position: relative; width: 100%; margin:auto;">
                        <a href="#" id="avatar-link" style="margin-right: 10px; display: none;">
                            <img src="images/profile.png" alt="my profile" style="height:50px; width:50px;">
                        </a>
                        <div class="signin-out">
                            <a href="signin.html" id="signin-link">
                                <img src="images/signin-av.png" alt="sign in"><br>Sign In
                            </a>
                            <div style="display: none; position: absolute; top: 60px; left: -10px; width: 120px;">
                                <button id="signout-button" style="display: flex; align-items: center; background-color: rgb(4, 120, 221); border: none; color: white; padding: 5px; border-radius: 5px;">
                                    <h3 style="margin: 0;">Sign Out</h3>
                                    <img src="images/logout.png" alt="sign out" style="width: 30px; height: 30px; margin-left: 5px;">
                                </button>
                            </div>
                        </div>
                    </div>
                </td>  
            </tr>
        </table>
    </header>

    <div class="nav-container">
        <nav>
            <table class="categories" border="0">
                <tr>
                    <td class="c-item"><img src="images/delivery-van.png" alt=""><br><b>Free Delivery</b></td>
                    <td class="c-item"><img src="images/return.png" alt=""><br><b>Free Return</b></td>
                    <td class="c-item"><img src="images/fast-delivery.png" alt=""><br><b>Fast Delivery</b></td>
                </tr>
            </table>
        </nav>
    </div>
    <div class="slider-container">
        <div class="ad-slider">
            <img id="ad-image" src="images/ad's/ad-1-2e.jpg" alt="Advertisement">
            <div id="prev-ad" class="button">
                <button><b>&lt;</b></button>
            </div>
            <div id="next-ad" class="button">
                <button><b>&gt;</b></button>
            </div>
        </div>
    </div>


    <div class="category-images" style="display: flex; justify-content: space-around; margin: 20px 0;">
        <div class="category-item" style="text-align: center;">
            <a href="HA.html"><img src="https://via.placeholder.com/150?text=Home+Appliances" alt="Home Appliances" style="border-radius: 50%; width: 150px; height: 150px;">
                <h4>Home Appliances</h4></a>
        </div>
        <div class="category-item" style="text-align: center;">
           <a href="TV.html"> <img src="https://via.placeholder.com/150?text=TVs" alt="TVs" style="border-radius: 50%; width: 150px; height: 150px;">
            <h4>TVs</h4></a>
        </div>
        <div class="category-item" style="text-align: center;">
            <a href="Cameras-category.html"><img src="https://via.placeholder.com/150?text=Cameras" alt="Cameras" style="border-radius: 50%; width: 150px; height: 150px;">
                <h4>Cameras</h4></a>
        </div>
        <div class="category-item" style="text-align: center;">
           <a href="GC-category.html"> <img src="https://via.placeholder.com/150?text=Games+Consoles" alt="Games Consoles" style="border-radius: 50%; width: 150px; height: 150px;">
            <h4>Games Consoles</h4></a>
        </div>
    </div>

    <div class="category-container">
        <div class="category-title">TV's</div>
        <div class="product-flex" id="gamesConsoles-container"></div>
    </div>

    <footer class="footer">
        <table border="0">
            <tr>
               <div>
                <td class="logo-f"><img src="images/logov2.png" height="150px" width="150px" alt="e-store"></td>
               </div>
                <div class="footer-element">
                    <td><h3>Find Us</h3></td>
                <td>
                    <div class="social-media"><img src="images/social-media/twitter (1).png" alt="X"></div>
                </td>
                <td>
                    <div class="social-media"><img src="images/social-media/facebook (1).png" alt="facebook"></div>
                </td>
                <td>
                    <div class="social-media"><img src="images/social-media/tik-tok (1).png" alt="tiktok"></div>
                </td>
                <td>
                    <div class="social-media"><img src="images/social-media/instagram (1).png" alt="instagram"></div>
                </td>
                </div>
                <td><div  class="footer-element" style="width:100px;">
                    <td><h3>E-mail: </h3></td>
                    <td><a href="mailto:myEmail@example.com" style="text-decoration: none; color:#00e1ff;"><h3>myEmail@example.com</h3></a></td>
                </div></td>
               
                <td><div  class="footer-element" style="width:100px;">
                    <td><h3>Call Center: </h3></td>
                    <td><h3 style="color:#00e1ff;">8001207669</h3></td>
                </div></td>
               
                <td><div  class="footer-element" style="width:100px;">
                    <td><h3 style="color:#00e1ff;">About Us</h3></td>
                </div></td>
                
            </tr>
        </table>
    </footer>

    <script>
        // Global arrays to hold products for each category

        let totalProductsInCart = parseInt(localStorage.getItem('totalProductsInCart')) || 0;
let totalProductsInWishList = parseInt(localStorage.getItem('totalProductsInWishList')) || 0;

// Function to update the cart count in the UI and localStorage
function updateCartIcon() {
    const cartIcon = document.getElementById('cart-count'); // Get the cart count element
    cartIcon.textContent = totalProductsInCart > 0 ? totalProductsInCart : ''; // Update the text content
    cartIcon.style.display = totalProductsInCart > 0 ? 'block' : 'none'; // Show or hide cart count
    localStorage.setItem('totalProductsInCart', totalProductsInCart); // Save to localStorage
}

function updateWishListIcon() {
    const wishListIcon = document.getElementById('wishList-count'); // Get the wishlist count element
    wishListIcon.textContent = totalProductsInWishList > 0 ? totalProductsInWishList : ''; // Update the text content
    wishListIcon.style.display = totalProductsInWishList > 0 ? 'block' : 'none'; // Show or hide wishlist count
    localStorage.setItem('totalProductsInWishList', totalProductsInWishList); // Save to localStorage
}



function addWishList(productId) {
    totalProductsInWishList++; // Increment the total products in wishlist
    updateWishListIcon(); // Update the wishlist icon

    // Change the heart icon to "like-solid"
    const heartButton = document.querySelector(`#wish[data-product-id="${productId}"]`);
    if (heartButton) {
        heartButton.innerHTML = '<i class="fa-solid fa-heart" style="color: red;"></i>'; // Change to solid heart
    }

    alert(`Product ${productId} added to WishList!`);
}




// Function to add products to the cart
function buyProduct(productId) {
    totalProductsInCart++; // Increment the total products in cart
    updateCartIcon(); // Update the cart icon

    // Change the button text to "Added"
    const buyButton = document.querySelector(`#buy[data-product-id="${productId}"]`);
    if (buyButton) {
        buyButton.textContent = "Added";
        buyButton.disabled = true; // Optionally disable the button
    }

    alert(`Product ${productId} purchased!`);
}


const gamesConsloes_discount = [
{ id: 1, oldPrice: 100, newPrice: 80, imageUrl: 'https://via.placeholder.com/150?text=Product+1', discount: 20 },
{ id: 2, oldPrice: 150, newPrice: 112.50, imageUrl: 'https://via.placeholder.com/150?text=Product+2', discount: 25 },
{ id: 3, oldPrice: 90, newPrice: 70, imageUrl: 'https://via.placeholder.com/150?text=Product+3', discount: 22.22 },
{ id: 4, oldPrice: 200, newPrice: 160, imageUrl: 'https://via.placeholder.com/150?text=Product+4', discount: 20 },
{ id: 5, oldPrice: 75, newPrice: 60, imageUrl: 'https://via.placeholder.com/150?text=Product+5', discount: 20 },
{ id: 6, oldPrice: 120, newPrice: 90, imageUrl: 'https://via.placeholder.com/150?text=Product+6', discount: 25 },
{ id: 7, oldPrice: 55, newPrice: 50, imageUrl: 'https://via.placeholder.com/150?text=Product+7', discount: 9.09 },
{ id: 8, oldPrice: 300, newPrice: 240, imageUrl: 'https://via.placeholder.com/150?text=Product+8', discount: 20 },
{ id: 9, oldPrice: 85, newPrice: 65, imageUrl: 'https://via.placeholder.com/150?text=Product+9', discount: 23.53 },
{ id: 10, oldPrice: 110, newPrice: 88, imageUrl: 'https://via.placeholder.com/150?text=Product+10', discount: 20 },
{ id: 11, oldPrice: 100, newPrice: 80, imageUrl: 'https://via.placeholder.com/150?text=Product+1', discount: 20 },
{ id: 12, oldPrice: 150, newPrice: 112.50, imageUrl: 'https://via.placeholder.com/150?text=Product+2', discount: 25 },
{ id: 13, oldPrice: 90, newPrice: 70, imageUrl: 'https://via.placeholder.com/150?text=Product+3', discount: 22.22 },
{ id: 14, oldPrice: 200, newPrice: 160, imageUrl: 'https://via.placeholder.com/150?text=Product+4', discount: 20 },
{ id: 15, oldPrice: 75, newPrice: 60, imageUrl: 'https://via.placeholder.com/150?text=Product+5', discount: 20 },
{ id: 16, oldPrice: 120, newPrice: 90, imageUrl: 'https://via.placeholder.com/150?text=Product+6', discount: 25 },
{ id: 17, oldPrice: 55, newPrice: 50, imageUrl: 'https://via.placeholder.com/150?text=Product+7', discount: 9.09 },
{ id: 18, oldPrice: 300, newPrice: 240, imageUrl: 'https://via.placeholder.com/150?text=Product+8', discount: 20 },
{ id: 19, oldPrice: 85, newPrice: 65, imageUrl: 'https://via.placeholder.com/150?text=Product+9', discount: 23.53 },
{ id: 20, oldPrice: 110, newPrice: 88, imageUrl: 'https://via.placeholder.com/150?text=Product+10', discount: 20 }
];


        // Function to display products in a specified container
        function displayProducts(productArray, containerId) {
            const productContainer = document.getElementById(containerId);
            productContainer.innerHTML = ''; // Clear previous products
            productArray.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
    <img src="${product.imageUrl}" alt="Product ${product.id}" class="product-image" style="width: 150px;">
    <h3>Product ${product.id}</h3>
    <p class="old-price">$${product.oldPrice.toFixed(2)}</p>
    <p class="new-price">$${product.newPrice.toFixed(2)} (Discount: ${product.discount}%)</p>
    <div style="display:flex;">
        <button id="wish" data-product-id="${product.id}" onclick="addWishList(${product.id})" style="border-radius:50px;">
            <i class="fa-regular fa-heart"></i>
        </button>
        <button id="buy" data-product-id="${product.id}" onclick="buyProduct(${product.id})" style="width:80%; font-size:15px;">
            Add to Cart &nbsp;<i class="fa-sharp fa-solid fa-cart-plus"></i>
        </button>
    </div>
`;
                productContainer.appendChild(productCard);
            });
        }
        // Function to display all products in their respective categories
        function displayAllProducts() {
            displayProducts(gamesConsloes_discount, 'gamesConsoles-container');
        }

        // Functions for button actions
        function addToWishlist(productId) {
            alert(`Product ${productId} added to wishlist!`);
        }



        // Initialize by displaying all products
       
       // Global variable to keep track of products in cart


       

// Function to update the cart count in the UI and localStorage


// Initialize by displaying all products
displayAllProducts();  
updateCartIcon();
updateWishListIcon();

document.getElementById('avatar-link').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default link behavior
    const signoutDiv = document.querySelector('.signin-out div'); // Select the sign-out button's container
    signoutDiv.style.display = signoutDiv.style.display === 'none' ? 'flex' : 'none'; // Toggle visibility
});

// Sign out functionality
document.getElementById('signout-button').addEventListener('click', function() {
    localStorage.setItem('isSignedIn', 'false'); // Update sign-in status
    alert('You have signed out.'); // Alert user
    updateSignInUI(); // Update UI after signing out
    const signoutDiv = document.querySelector('.signout');
    document.getElementById('signout-container').style.display = 'none'; // Hide the sign-out button
});
       
    </script>
</body>
</html>



<script>
    // Check the sign-in status on page load
    const isSignedIn = localStorage.getItem('isSignedIn');

    // Reset sign-in status when the page is being unloaded

    // Update UI based on sign-in status
    function updateSignInUI() {
    const isSignedIn = localStorage.getItem('isSignedIn');
    const avatarLink = document.getElementById('avatar-link');
    const signinLink = document.getElementById('signin-link');

    if (isSignedIn === 'true') {
        avatarLink.style.display = 'block'; // Show the avatar
        signinLink.style.display = 'none';   // Hide the sign-in link
        avatarLink.href = 'profile.html';    // Change to the desired profile page
    } else {
        avatarLink.style.display = 'none';    // Hide the avatar
        signinLink.style.display = 'block';    // Show the sign-in link
    }
}

    // Call the function to update the UI
    updateSignInUI();
</script>

<script>
   const adImages = [
    "images/ad's/ad-2-e2.png",
    "images/ad's/ad-3-2e.jpg",
    "images/ad's/ad-4-2e.jpg",
];

let currentAdIndex = 0;
let adInterval = 5000; // Time in milliseconds
let adTimeout; // Variable to hold the timeout ID

function changeAdImage() {
    currentAdIndex = (currentAdIndex + 1) % adImages.length; // Cycle through the images
    const adImage = document.getElementById('ad-image');
    adImage.style.opacity = 0; // Fade out

    setTimeout(() => {
        adImage.src = adImages[currentAdIndex]; // Change the image
        adImage.style.opacity = 1; // Fade in
    }, 1000); // Delay for fade effect
}

function startAdInterval() {
    adTimeout = setInterval(changeAdImage, adInterval);
}

function stopAdInterval() {
    clearInterval(adTimeout);
}

// Change the ad image when the next button is clicked
document.getElementById('next-ad').addEventListener('click', () => {
    stopAdInterval(); // Stop the interval
    changeAdImage();  // Change the ad immediately
    adInterval = 8000; // Set longer interval
    startAdInterval(); // Restart the interval
});

// Change the ad image when the previous button is clicked
document.getElementById('prev-ad').addEventListener('click', () => {
    stopAdInterval(); // Stop the interval
    currentAdIndex = (currentAdIndex - 1 + adImages.length) % adImages.length; // Go to previous ad
    const adImage = document.getElementById('ad-image');
    adImage.style.opacity = 0; // Fade out

    setTimeout(() => {
        adImage.src = adImages[currentAdIndex]; // Change the image
        adImage.style.opacity = 1; // Fade in
    }, 1000); // Delay for fade effect

    adInterval = 8000; // Set longer interval
    startAdInterval(); // Restart the interval
});

// Initial start of the ad interval
startAdInterval();
</script>